#!/usr/bin/env ruby

require 'gfm'

input_file, output_file = ARGV

if input_file.nil? || ARGV.include?('--help') || ARGV.include?('-h')
  puts GFM::HELP_TEXT
elsif ARGV.include?('--version') || ARGV.include?('-v')
  puts "Version #{GFM::VERSION}"
elsif input_file.end_with?(".md") && File.exists?(input_file)
  converter = GFM::Converter.new(input_file)
  converter.write_output_file(output_file)
  puts "Markdown from #{converter.input_file_name} written to #{converter.output_file_name}."
else
  puts "Invalid markdown file #{input_file}"
end
